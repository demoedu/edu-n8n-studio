{
  "name": "X 자동발행 워크플로우 v2 (간소화)",
  "nodes": [
    {
      "id": "schedule-trigger-1",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [250, 300],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 6,
              "triggerAtHour": 9
            }
          ]
        }
      }
    },
    {
      "id": "rss-read-1",
      "name": "RSS Feed Reader",
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [450, 300],
      "parameters": {
        "url": "https://news.ycombinator.com/rss"
      }
    },
    {
      "id": "code-filter-1",
      "name": "최신 3개 선택",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [650, 300],
      "parameters": {
        "mode": "runOnceForAllItems",
        "jsCode": "// RSS 피드에서 최신 3개 항목만 선택하고 AI 프롬프트 준비\nconst items = $input.all();\n\n// 날짜순으로 정렬하고 최신 3개만 선택\nconst sortedItems = items\n  .sort((a, b) => {\n    const dateA = new Date(a.json.isoDate || a.json.pubDate);\n    const dateB = new Date(b.json.isoDate || b.json.pubDate);\n    return dateB - dateA;\n  })\n  .slice(0, 3);\n\n// AI 프롬프트 형식으로 변환\nconst processed = sortedItems.map(item => ({\n  json: {\n    title: item.json.title || '',\n    link: item.json.link || '',\    description: (item.json.contentSnippet || item.json.description || '').substring(0, 500),\n    prompt: `다음 뉴스 기사를 바탕으로 매력적인 트윗을 작성해주세요:\n\n제목: ${item.json.title}\n내용: ${(item.json.contentSnippet || item.json.description || '').substring(0, 300)}\n링크: ${item.json.link}\n\n요구사항:\n- 280자 이내\n- 이모지 2-3개 사용\n- 핵심 내용 간결하게 요약\n- 해시태그 1-2개\n- 한국어로 작성`\n  }\n}));\n\nreturn processed;"
      }
    },
    {
      "id": "openai-1",
      "name": "AI 트윗 생성",
      "type": "n8n-nodes-base.openAi",
      "typeVersion": 1.1,
      "position": [850, 300],
      "parameters": {
        "resource": "text",
        "operation": "complete",
        "model": "gpt-3.5-turbo-instruct",
        "prompt": "={{ $json.prompt }}",
        "options": {
          "temperature": 0.8,
          "maxTokens": 200
        }
      }
    },
    {
      "id": "twitter-1",
      "name": "X 트윗 발행",
      "type": "n8n-nodes-base.twitter",
      "typeVersion": 2,
      "position": [1050, 300],
      "parameters": {
        "resource": "tweet",
        "operation": "create",
        "text": "={{ $json.text }}"
      }
    }
  ],
  "connections": {
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "RSS Feed Reader",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "RSS Feed Reader": {
      "main": [
        [
          {
            "node": "최신 3개 선택",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "최신 3개 선택": {
      "main": [
        [
          {
            "node": "AI 트윗 생성",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI 트윗 생성": {
      "main": [
        [
          {
            "node": "X 트윗 발행",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "saveManualExecutions": true,
    "saveExecutionProgress": true,
    "timezone": "Asia/Seoul"
  }
}
